{"componentChunkName":"component---src-templates-post-js","path":"/notes/kramdown-table-html/","result":{"data":{"markdownRemark":{"frontmatter":{"title":"HTML inside Kramdown table cells","date":"2016-11-08T00:00:00.000Z","date_pretty":"November 8th, 2016","date_from_now":"4 years ago","last_modified_at":"2017-09-08T14:33:53.000Z","last_modified_at_from_now":"3 years ago","path":"/notes/kramdown-table-html/","author":null,"excerpt":null,"tags":["TIL","web development","Jekyll"],"image":null,"toc":null,"comments":true,"comments_locked":null,"hide_meta":null},"id":"4d64c183-7c43-51a0-a2ad-4f4662e404fc","html":"<p>The question of how to write a list inside of a table cell with <a href=\"http://kramdown.gettalong.org/\"><strong>Kramdown</strong></a> recently came up in a thread on <a href=\"http://talk.jekyllrb.com/\">Jekyll Talk</a> — prompting me to look for a solution.</p>\n<p>Unfortunately something like this doesn’t work:</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token table\"><span class=\"token table-header-row\"><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Fruit         </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Price         </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Advantages         </span><span class=\"token punctuation\">|</span>\n</span><span class=\"token table-line\"><span class=\"token punctuation\">|</span> <span class=\"token punctuation\">-------------</span> <span class=\"token punctuation\">|</span> <span class=\"token punctuation\">-------------</span> <span class=\"token punctuation\">|</span> <span class=\"token punctuation\">------------------</span> <span class=\"token punctuation\">|</span>\n</span><span class=\"token table-data-rows\"><span class=\"token punctuation\">|</span><span class=\"token table-data\"> Bananas       </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> $1.34         </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> <span class=\"token list punctuation\">-</span> built-in wrapper </span><span class=\"token punctuation\">|</span>\n<span class=\"token punctuation\">|</span><span class=\"token table-data\">               </span><span class=\"token punctuation\">|</span><span class=\"token table-data\">               </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> <span class=\"token list punctuation\">-</span> bright color     </span><span class=\"token punctuation\">|</span>\n<span class=\"token punctuation\">|</span><span class=\"token table-data\"> Oranges       </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> $2.10         </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> <span class=\"token list punctuation\">-</span> cures scurvy     </span><span class=\"token punctuation\">|</span>\n<span class=\"token punctuation\">|</span><span class=\"token table-data\">               </span><span class=\"token punctuation\">|</span><span class=\"token table-data\">               </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> <span class=\"token list punctuation\">-</span> tasty            </span><span class=\"token punctuation\">|</span></span></span></code></pre></div>\n<p><strong>Kramdown</strong> treats each new line as a row and doesn’t render the bullet lists properly in the Banana and Oranges rows.</p>\n<p>Throwing HTML at the problem doesn’t quite work either.</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token table\"><span class=\"token table-header-row\"><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Fruit         </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Price         </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Advantages         </span><span class=\"token punctuation\">|</span>\n</span><span class=\"token table-line\"><span class=\"token punctuation\">|</span> <span class=\"token punctuation\">-------------</span> <span class=\"token punctuation\">|</span> <span class=\"token punctuation\">-------------</span> <span class=\"token punctuation\">|</span> <span class=\"token punctuation\">------------------</span> <span class=\"token punctuation\">|</span>\n</span><span class=\"token table-data-rows\"><span class=\"token punctuation\">|</span><span class=\"token table-data\"> Bananas       </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> $1.34         </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>built-in wrapper<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>bright color<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span> </span><span class=\"token punctuation\">|</span>\n<span class=\"token punctuation\">|</span><span class=\"token table-data\"> Oranges       </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> $2.10         </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>cures scurvy<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>tasty<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span> </span><span class=\"token punctuation\">|</span></span></span></code></pre></div>\n<p>Instead of rendering the HTML, it is escaped and outputted as a single line of text.</p>\n<p>What is needed is a way of telling <strong>Kramdown</strong> to leave the HTML alone and output as is. Thankfully there is such a way using the <a href=\"http://kramdown.gettalong.org/syntax.html#extensions\"><code class=\"language-text\">nomarkdown</code> extension</a>.</p>\n<p>Simply wrap the HTML with <code class=\"language-text\">{::nomarkdown} ... {:/}</code> like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token table\"><span class=\"token table-header-row\"><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Fruit         </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Price         </span><span class=\"token punctuation\">|</span><span class=\"token table-header important\"> Advantages         </span><span class=\"token punctuation\">|</span>\n</span><span class=\"token table-line\"><span class=\"token punctuation\">|</span> <span class=\"token punctuation\">-------------</span> <span class=\"token punctuation\">|</span> <span class=\"token punctuation\">-------------</span> <span class=\"token punctuation\">|</span> <span class=\"token punctuation\">------------------</span> <span class=\"token punctuation\">|</span>\n</span><span class=\"token table-data-rows\"><span class=\"token punctuation\">|</span><span class=\"token table-data\"> Bananas       </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> $1.34         </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> {::nomarkdown}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>built-in wrapper<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>bright color<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>{:/}</span><span class=\"token punctuation\">|</span>\n<span class=\"token punctuation\">|</span><span class=\"token table-data\"> Oranges       </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> $2.10         </span><span class=\"token punctuation\">|</span><span class=\"token table-data\"> {::nomarkdown}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>cures scurvy<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span><span class=\"token punctuation\">></span></span>tasty<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>{:/} </span><span class=\"token punctuation\">|</span></span></span></code></pre></div>\n<p>And the table will output as expected<sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup>.</p>\n<table>\n<thead>\n<tr>\n<th>Fruit</th>\n<th>Price</th>\n<th>Advantages</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Bananas</td>\n<td>$1.34</td>\n<td><ul><li>built-in wrapper</li><li>bright color</li></ul></td>\n</tr>\n<tr>\n<td>Oranges</td>\n<td>$2.10</td>\n<td><ul><li>cures scurvy</li><li>tasty</li></ul></td>\n</tr>\n</tbody>\n</table>\n<p>While not as readable as a pure Markdown solution, it gets the job done.</p>\n<p>From what I understand <a href=\"http://pandoc.org/\"><strong>Pandoc</strong></a> and <a href=\"https://github.com/vmg/redcarpet\"><strong>RedCarpet</strong></a> have better support for this sort of thing if you want to use their <a href=\"http://jekyllrb.com/docs/configuration/#markdown-options\">flavor of Markdown</a>.</p>\n<p>Since Kramdown is the default renderer used by Jekyll I think I’ll just suck it up and stick with this workaround for now.</p>\n<div class=\"footnotes\">\n<hr>\n<ol>\n<li id=\"fn-1\">\n<p>Be sure to keep all of your HTML on a single line for this to work properly.</p>\n<a href=\"#fnref-1\" class=\"footnote-backref\">↩</a>\n</li>\n</ol>\n</div>","excerpt":"The question of how to write a list inside of a table cell with Kramdown recently came up in a thread on Jekyll Talk — prompting me to look…","timeToRead":2,"tableOfContents":""},"comments":{"edges":[{"node":{"id":"9729ec0c-c4b9-5e05-9c14-83c964447dac","frontmatter":{"name":"Willy McAllister","email":"72f6ffec6e34ab5d69f3811272b5ae97","friendlyDate":"February 08, 2017","iso8601Date":"2017-02-08T22:13:39.780Z","published":null},"html":"<p>I have the opposite challenge … getting kramdown to process text inside a\n<code class=\"language-text\">&lt;details&gt;</code> tag. I would prefer not to drop into html when writing <code class=\"language-text\">&lt;details&gt;</code>.\nThe solution I’ve come across is <a href=\"http://movb.de/jekyll-details-support.html\">http://movb.de/jekyll-details-support.html</a>.</p>\n<p>This plugin works great, but it is not supported by github pages, so I have to\ntransfer my whole <code class=\"language-text\">_site</code> to github. Have you come across a kramdown extension\nthat says “hey kramdown, process me!”</p>"}},{"node":{"id":"a6543d4f-b863-511f-9d60-c35a00b72b3b","frontmatter":{"name":"Michael Rose","email":"1ce71bc10b86565464b612093d89707e","friendlyDate":"February 09, 2017","iso8601Date":"2017-02-09T14:18:23.527Z","published":null},"html":"<p>message: “Have you looked at the\n<a href=\"https://jekyllrb.com/docs/templates/\"><code class=\"language-text\">markdownify</code> filter</a>? I use it to do\nsomething similar to place Markdown text inside of a <code class=\"language-text\">figcaption</code> element.</p>\n<p>There’s several ways to handle this without the need of a plugin. You could do\nsomething like this with a Liquid <code class=\"language-text\">capture</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"liquid\"><pre class=\"language-liquid\"><code class=\"language-liquid\">{<span class=\"token operator\">%</span> <span class=\"token keyword\">capture</span> your_md <span class=\"token operator\">%</span>}Here is some Markdown you'd like to <span class=\"token operator\">*</span><span class=\"token operator\">*</span><span class=\"token keyword\">capture</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>.{<span class=\"token operator\">%</span> <span class=\"token keyword\">endcapture</span> <span class=\"token operator\">%</span>}</code></pre></div>\n<p>Then inject the captured variable into whatever you want and add the Markdownify\nfilter so Kramdown processes it like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span>\n  {{ your_md | markdownify }}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Which would give you the following HTML output:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Here is some Markdown you'd like to <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>strong</span><span class=\"token punctuation\">></span></span>capture<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>strong</span><span class=\"token punctuation\">></span></span>.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>If you don’t want to bother with all the captures you could build your own\n<a href=\"https://jekyllrb.com/docs/includes/#passing-parameters-to-includes\">Jekyll include</a>\nthat you could pass text through as a <code class=\"language-text\">parameter</code> to be Markdownified.</p>"}},{"node":{"id":"153a2bab-7f5b-55ff-8e18-eaa9c89afc60","frontmatter":{"name":"Willy McAllister","email":"72f6ffec6e34ab5d69f3811272b5ae97","friendlyDate":"February 09, 2017","iso8601Date":"2017-02-09T18:54:37.276Z","published":null},"html":"<p>Captures work nicely! I added a summary, and removed the spurious <code class=\"language-text\">&lt;p&gt;</code> tags so\nthe summary lines up with the open icon.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">{% capture summary %}Here is my Markdown *summary*{% endcapture %} {% capture\ndetails %}Here is my Markdown **captured**.{% endcapture %}\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>details</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>summary</span>\n    <span class=\"token punctuation\">></span></span>{{ summary | markdownify | remove: '\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>' | remove: '<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n    ' }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>summary</span>\n  <span class=\"token punctuation\">></span></span>\n  {{ details | markdownify }}\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>details</span><span class=\"token punctuation\">></span></span></code></pre></div>"}}]}},"pageContext":{"next":{"frontmatter":{"path":"/articles/improving-jekyll-static-comments/","title":"Improving static comments with Jekyll & Staticman","categories":["articles"],"tags":["web development","GitHub","Jekyll","tutorial"]},"fileAbsolutePath":"/home/28041/opensource/github.com/mmistakes/made-mistakes-gatsby/src/posts/articles/improving-jekyll-static-comments.md"},"previous":{"frontmatter":{"path":"/notes/github-pages-publishing-source/","title":"Configuring publishing sources for GitHub Pages","categories":["notes"],"tags":["TIL","web development","GitHub","Jekyll"]},"fileAbsolutePath":"/home/28041/opensource/github.com/mmistakes/made-mistakes-gatsby/src/posts/notes/github-pages-publishing-source.md"}}}}